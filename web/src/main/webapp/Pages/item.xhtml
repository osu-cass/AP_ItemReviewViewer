<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:tds="http://airast.org/jsfcustom"
	xmlns:p="http://java.sun.com/jsf/passthrough"
	xmlns:ui="http://java.sun.com/jsf/facelets">
<h:head>
	<title>Smarter Balanced- Item Viewer</title>
	<!-- Required by CTB and only scripts required for reference purposes -->
	<tds:ScriptLink
		source="~/Scripts/Libraries/jquery/jquery-1.10.2.min.js"
		type="text/javascript"></tds:ScriptLink>
	<tds:ScriptLink source="~/Scripts/Utilities/util_xdm.js"
		type="text/javascript"></tds:ScriptLink>
	<tds:ScriptLink source="~/Scripts/client.js" type="text/javascript"></tds:ScriptLink>
	<!-- Styling for this page only and not for IRiS interface. -->
	<tds:CSSLink href="~/IrisStyles/style.css" media="screen"
		type="text/css" rel="stylesheet" />
	<tds:CSSLink href="~/IrisStyles/pagenavi-css.css" media="screen"
		type="text/css" rel="stylesheet" />
	<tds:CSSLink href="~/IrisStyles/jd.css" media="screen" type="text/css"
		rel="stylesheet" />
	<tds:CSSLink href="~/IrisStyles/jd_002.css" media="screen"
		type="text/css" rel="stylesheet" />

	<!-- Custom Bootstrap Core CSS -->
	<link rel="stylesheet" href="../bootstrap-3.3.5/css/bootstrap.min.css" />

	<!-- Custom Fonts -->
	<link
		href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.6.3/css/font-awesome.min.css"
		rel="stylesheet" type="text/css" />

	<!-- Bootstrap Core JavaScript -->
	<script
		src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/js/bootstrap.min.js"></script>

	<style>
.container {
	width: 1400px;
}

@media ( min-width : 768px) {
	.modal-xl {
		width: 90%;
		max-width: 1200px;
	}
}

table.meta td {
	font-size: 1.2em;
	padding: 5px 5px 5px 5px;
	font-family: "PT Serif";
}

table.meta {
	background-color: #efefef;
	border-collapse: separate;
	border-spacing: 10px;
	*border-collapse: expression('separate', cellSpacing = '10px');
}
</style>

</h:head>
<h:body>
	<div class="container body-content">
		<nav class="navbar navbar-default">
		<div class="navbar-header">
			<button type="button" class="navbar-toggle collapsed"
				data-toggle="collapse" data-target="#navbar" aria-expanded="false"
				aria-controls="navbar">
				<span class="sr-only">Toggle navigation</span> <span
					class="icon-bar"></span> <span class="icon-bar"></span> <span
					class="icon-bar"></span>
			</button>
			<a class="navbar-brand" href="#"> <img
				src="../images/SmarterBalanced_logo-01.png" width="165" height="64" />
			</a>
		</div>
		</nav>
		<div class="row">
			<div class="col-md-2 col-md-offset-2 form-group">
				<select id="content" value="#{param[type]}" class="form-control">
					<option value="Item" class="form-control">Item</option>
					<option value="Stimuli" class="form-control">Stimulus</option>
				</select>
			</div>
			<div class="col-md-2 form-group">
				<input id="bankToken" type="text" placeholder="Enter Bank ID EX:187"
					class="form-control" value="#{param['bankId']}" />
			</div>
			<div class="col-md-2 form-group">
				<input id="txtToken" type="text" placeholder="Enter Item ID EX:1059"
					class="form-control" value="#{param['id']}" />
			</div>
			<div class="col-md-1 form-group">
				<input id="versionToken" type="hidden" value="#{param['version']}" />
				<input id="isaapToken" type="hidden" value="#{param['isaap']}" />
				<button id="btnLoadToken" class="btn btn-primary pull-left">Load</button>
			</div>
			<div class="col-md-2 form-group">
				<button class="btn btn-primary pull-right" data-toggle="modal"
					data-target="#metadata-modal-container">Metadata</button>
			</div>
			<div class="col-md-1 form-group">
				<button class="btn btn-primary pull-right" data-toggle="modal"
					data-target="#accessibility-modal-container">Accessibility</button>
			</div>
		</div>

		<!-- Item Content -->
		<div class="row">
			<div class="col-md-2">
				<label><a href="#versions" data-toggle="collapse">Version
						List</a></label>
				<ul id="versions" class="collapse">
					<ui:repeat value="#{versionsBacking.itemCommits}" var="value">
						<li><a href="#{value.link}">Version #{value.id}</a></li>
					</ui:repeat>
				</ul>
			</div>
			<div class="col-md-10">
				<iframe src="#{request.contextPath}/" width="1000" height="650" frameBorder="2"></iframe>
			</div>
		</div>


		<!-- Footer -->
		<div class="row">
			<div class="col-md-12">
				<p class="pull-right">© The Regents of the University of
					California – Smarter Balanced Assessment Consortium</p>
			</div>
		</div>
	</div>





	<!-- Metadata Modal -->
	<div class="modal fade" id="metadata-modal-container" tabindex="-1"
		role="dialog" aria-labelledby="MetaData Modal" aria-hidden="true">
		<div class="modal-dialog modal-xl" role="document">
			<div class="modal-content">
				<div class="modal-header">
					<button type="button" class="close" data-dismiss="modal"
						aria-label="Close">
						<span aria-hidden="true">×</span>
					</button>
					<h4 class="modal-title" id="myModalLabel">Item Metadata</h4>
				</div>
				<div class="modal-body">

					<!-- First 2 rows grouping -->
					<div class="row">
						<div class="col-md-3 form-group">
							<label>Identifier</label>
							<h:outputText
								value="#{metadatBacking.metadata.smarterAppMetadata.identifier}"
								class="form-control" />
						</div>
						<div class="col-md-3 form-group">
							<label>ItemAuthorIdentifier</label>
							<h:outputText
								value="#{metadatBacking.metadata.smarterAppMetadata.itemAuthorIdentifier}"
								class="form-control" />
						</div>
						<div class="col-md-3 form-group">
							<label>ItemSpecFormat</label>
							<h:outputText
								value="#{metadatBacking.metadata.smarterAppMetadata.itemSpecFormat}"
								class="form-control" />
						</div>
						<div class="col-md-3 form-group">
							<label>LastModifiedBy</label>
							<h:outputText
								value="#{metadatBacking.metadata.smarterAppMetadata.lastModifiedBy}"
								class="form-control" />
						</div>
					</div>

					<div class="row">
						<div class="col-md-3">
							<label>SecurityStatus</label>
							<h:outputText
								value="#{metadatBacking.metadata.smarterAppMetadata.securityStatus}"
								class="form-control" />
						</div>
						<div class="col-md-3">
							<label>SmarterAppItemDescriptor</label>
							<h:outputText
								value="#{metadatBacking.metadata.smarterAppMetadata.smarterAppItemDescriptor}"
								class="form-control" />
						</div>
						<div class="col-md-3">
							<label>Status</label>
							<h:outputText
								value="#{metadatBacking.metadata.smarterAppMetadata.status}"
								class="form-control" />
						</div>
						<div class="col-md-3">
							<label>StimulusFormat</label>
							<h:outputText
								value="#{metadatBacking.metadata.smarterAppMetadata.stimulusFormat}"
								class="form-control" />
						</div>
					</div>
					<div class="row">
						<div class="col-md-3">
							<label>Subject</label>
							<h:outputText
								value="#{metadatBacking.metadata.smarterAppMetadata.subject}"
								class="form-control" />
						</div>
						<div class="col-md-3">
							<label>Version</label>
							<h:outputText
								value="#{metadatBacking.metadata.smarterAppMetadata.version}"
								class="form-control" />
						</div>
						<div class="col-md-3">
							<label>IntendedGrade</label>
							<h:outputText
								value="#{metadatBacking.metadata.smarterAppMetadata.intendedGrade}"
								class="form-control" />
						</div>
						<div class="col-md-3">
							<label>MinimumGrade</label>
							<h:outputText
								value="#{metadatBacking.metadata.smarterAppMetadata.minimumGrade}"
								class="form-control" />
						</div>
					</div>
					<div class="row">
						<div class="col-md-3">
							<label>MaximumGrade</label>
							<h:outputText
								value="#{metadatBacking.metadata.smarterAppMetadata.maximumGrade}"
								class="form-control" />
						</div>
						<div class="col-md-3">
							<label>DepthOfKnowledge</label>
							<h:outputText
								value="#{metadatBacking.metadata.smarterAppMetadata.depthOfKnowledge}"
								class="form-control" />
						</div>
						<div class="col-md-3">
							<label>InteractionType</label>
							<h:outputText
								value="#{metadatBacking.metadata.smarterAppMetadata.interactionType}"
								class="form-control" />
						</div>
						<div class="col-md-3">
							<label>MaximumNumberOfPoints</label>
							<h:outputText
								value="#{metadatBacking.metadata.smarterAppMetadata.maximumNumberOfPoints}"
								class="form-control" />
						</div>
					</div>
					<div class="row">
						<div class="col-md-3">
							<label>AllowCalculator</label>
							<h:outputText
								value="#{metadatBacking.metadata.smarterAppMetadata.allowCalculator}"
								class="form-control" />
						</div>
						<div class="col-md-3">
							<label>CopyrightAndOtherRestrictions</label>
							<h:outputText
								value="#{metadatBacking.metadata.smarterAppMetadata.copyrightAndOtherRestrictions}"
								class="form-control" />
						</div>
						<div class="col-md-3">
							<label>BrailleType</label>
							<h:outputText
								value="#{metadatBacking.metadata.smarterAppMetadata.brailleType}"
								class="form-control" />
						</div>
						<div class="col-md-3">
							<label>EnemyItem</label>
							<h:outputText
								value="#{metadatBacking.metadata.smarterAppMetadata.enemyItem}"
								class="form-control" />
						</div>
					</div>
					<div class="row">
						<div class="col-md-3">
							<label>Standard Publication 1</label>
							<h:outputText
								value="#{metadatBacking.metadata.smarterAppMetadata.standardPublication.publication}"
								class="form-control" />
						</div>
						<div class="col-md-3">
							<label>Standard Publication 2</label>
							<h:outputText
								value="#{metadatBacking.metadata.smarterAppMetadata.standardPublication.primaryStandard}"
								class="form-control" />
						</div>
						<div class="col-md-3">
							<label>AssociatedTutorial</label>
							<h:outputText
								value="#{metadatBacking.metadata.smarterAppMetadata.associatedTutorial}"
								class="form-control" />
						</div>
						<div class="col-md-3">
							<label>AssociatedWordlist</label>
							<h:outputText
								value="#{metadatBacking.metadata.smarterAppMetadata.associatedWordlist}"
								class="form-control" />
						</div>
					</div>
					<div class="row">
						<div class="col-md-3">
							<label>Language</label>
							<h:outputText
								value="#{metadatBacking.metadata.smarterAppMetadata.language}"
								class="form-control" />
						</div>
						<div class="col-md-3"></div>
						<div class="col-md-3"></div>
						<div class="col-md-3"></div>
					</div>
				</div>
				<div class="modal-footer">
					<button class="btn btn-primary btn-cancel" data-dismiss="modal">Close</button>
				</div>
			</div>
		</div>
	</div>

	<!-- Accessibility Modal -->
	<div class="modal fade" id="accessibility-modal-container"
		tabindex="-1" role="dialog"
		aria-labelledby="Accessibility Options Modal" aria-hidden="true"
		style="display: none;">

		<div class="modal-dialog modal-xl" role="document">
			<div class="modal-content">
				<div class="modal-header">
					<button type="button" class="close" data-dismiss="modal"
						aria-label="Close">
						<span aria-hidden="true">×</span>
					</button>
					<h4 class="modal-title" id="myModalLabel">Accessibility
						Options</h4>
				</div>

				<div class="modal-body">

					<div class="row">
						<div class="col-md-12">
							<span>Options highlighted in grey are not available for
								this item.</span>
						</div>
					</div>


					<!-- Universal Tools -->
					<div class="row">
						<div class="col-md-12">
							<h3>Universal Tools</h3>
						</div>
					</div>

					<div class="row">
						<div class="col-md-3 form-group">
							<label>Digital Notepad</label><select
								id="accessibility.digitalNotepad" class="form-control"><option
									value="TDS_SCNotepad" class="option-enabled">Notepad
									on</option>
								<option value="TDS_SC0" class="option-enabled">Notepad
									off</option></select>
						</div>
						<div class="col-md-3 form-group">
							<label>English Glossary</label><select
								id="accessibility.englishGlossary" class="form-control"><option
									value="TDS_WL_Glossary" class="option-enabled">English
									Glossary on</option>
								<option value="TDS_WL0" class="option-enabled">English
									Glossary off</option></select>
						</div>
						<div class="col-md-3 form-group">
							<label>Highlighter</label><select id="accessibility.highlighter"
								class="form-control"><option value="TDS_Highlight1"
									class="option-enabled">Highlight on</option>
								<option value="TDS_Highlight0" class="option-enabled">Highlight
									off</option></select>
						</div>
						<div class="col-md-3 form-group">
							<label>Mark for Review</label><select
								id="accessibility.markForReview" class="form-control"><option
									value="TDS_MfR1" class="option-enabled">Mark for
									review on</option>
								<option value="TDS_MfR0" class="option-enabled">Mark
									for review off</option></select>
						</div>
					</div>

					<div class="row">
						<div class="col-md-3 form-group">
							<label>Calculator</label><select id="accessibility.calculator"
								class="form-control"><option value="TDS_CalcBasic"
									class="option-enabled">Calculator on</option>
								<option value="TDS_Calc0" class="option-enabled">Calculator
									off</option></select>
						</div>
						<div class="col-md-3 form-group">
							<label>English Dictionary</label><select
								id="accessibility.englishDictionary" class="form-control"><option
									value="TDS_Dict_SD4" class="option-enabled">Merriam
									Websters School Dictionary on</option>
								<option value="TDS_Dict0" class="option-enabled">Merriam
									Websters School Dictionary off</option></select>
						</div>
						<div class="col-md-3 form-group">
							<label>Expandable Passages</label><select
								id="accessibility.expandablePassages" class="form-control"><option
									value="TDS_ExpandablePassages1" class="option-enabled">Expandable
									Passages on</option>
								<option value="TDS_ExpandablePassages0" class="option-enabled">Expandable
									Passages off</option></select>
						</div>
						<div class="col-md-3 form-group">
							<label>Global Notes</label><select id="accessibility.globalNotes"
								class="form-control"><option value="TDS_GN1"
									class="option-enabled">Global Notes on</option>
								<option value="TDS_GN0" class="option-enabled">Global
									Notes off</option></select>
						</div>
					</div>

					<div class="row">
						<div class="col-md-3 form-group">
							<label>Strikethrough</label><select
								id="accessibility.strikethrough" class="form-control"><option
									value="TDS_ST1" class="option-enabled">Strikethrough
									on</option>
								<option value="TDS_ST0" class="option-enabled">Strikethrough
									off</option></select>
						</div>
						<div class="col-md-3 form-group">
							<label>Writing Tools</label><select
								id="accessibility.writingTools" class="form-control"><option
									value="TDS_ITM1" class="option-enabled">Item tools on</option>
								<option value="TDS_ITM0" class="option-enabled">Item
									tools off</option></select>
						</div>
						<div class="col-md-3 form-group">
							<label>Thesaurus</label><select id="accessibility.thesaurus"
								class="form-control"><option value="TDS_TH_TA"
									class="option-enabled">Merriam Websters Intermediate
									Thesaurus on</option>
								<option value="TDS_TH0" class="option-enabled">Merriam
									Websters Intermediate Thesaurus off</option></select>
						</div>
					</div>


					<!-- Designated Support -->
					<div class="row">
						<div class="col-md-12">
							<h3>Designated Support</h3>
						</div>
					</div>

					<div class="row">
						<div class="col-md-3 form-group">
							<label>Color Choices</label><select
								id="accessibility.colorChoices" class="form-control"><option
									value="TDS_CC0" class="option-enabled">Black on White</option>
								<option value="TDS_CCInvert" class="option-enabled">Reverse
									Contrast</option>
								<option value="TDS_CCMagenta" class="option-enabled">Black
									on Rose</option>
								<option value="TDS_CCMedGrayLtGray" class="option-enabled">Medium
									Gray on Light Gray</option>
								<option value="TDS_CCYellowB" class="option-enabled">Yellow
									on Blue</option></select>
						</div>
						<div class="col-md-3 form-group">
							<label>Masking</label><select id="accessibility.masking"
								class="form-control"><option value="TDS_Masking0"
									class="option-enabled">Masking Not Available</option>
								<option value="TDS_Masking1" class="option-enabled">Masking
									Available</option></select>
						</div>
						<div class="col-md-3 form-group">
							<label>Translation</label><select id="accessibility.translation"
								class="form-control"><option value="TDS_WL_Glossary"
									class="option-enabled">English</option>
								<option value="TDS_WL_ArabicGloss" class="option-enabled">Arabic</option>
								<option value="TDS_WL_CantoneseGloss" class="option-enabled">Cantonese</option>
								<option value="TDS_WL_ESNGlossary" class="option-enabled">Spanish</option>
								<option value="TDS_WL_KoreanGloss" class="option-enabled">Korean</option>
								<option value="TDS_WL_MandarinGloss" class="option-enabled">Mandarin</option>
								<option value="TDS_WL_PunjabiGloss" class="option-enabled">Punjabi</option>
								<option value="TDS_WL_RussianGloss" class="option-enabled">Russian</option>
								<option value="TDS_WL_TagalGloss" class="option-enabled">Filipino
									(Ilokano and Tagalog)</option>
								<option value="TDS_WL_UkrainianGloss" class="option-enabled">Ukrainian</option>
								<option value="TDS_WL_VietnameseGloss" class="option-enabled">Vietnamese</option>
								<option value="TDS_WL_ArabicGloss&amp;TDS_WL_Glossary"
									class="option-enabled">Arabic &amp; English</option>
								<option value="TDS_WL_CantoneseGloss&amp;TDS_WL_Glossary"
									class="option-enabled">Cantonese &amp; English</option>
								<option value="TDS_WL_ESNGlossary&amp;TDS_WL_Glossary"
									class="option-enabled">Spanish &amp; English</option>
								<option value="TDS_WL_KoreanGloss&amp;TDS_WL_Glossary"
									class="option-enabled">Korean &amp; English</option>
								<option value="TDS_WL_MandarinGloss&amp;TDS_WL_Glossary"
									class="option-enabled">Mandarin &amp; English</option>
								<option value="TDS_WL_PunjabiGloss&amp;TDS_WL_Glossary"
									class="option-enabled">Punjabi &amp; English</option>
								<option value="TDS_WL_RussianGloss&amp;TDS_WL_Glossar"
									class="option-enabled">Russian &amp; English</option>
								<option value="TDS_WL_TagalGloss&amp;TDS_WL_Glossary"
									class="option-enabled">Filipino (Ilokano and Tagalog)
									and English</option>
								<option value="TDS_WL_UkrainianGloss&amp;TDS_WL_Glossary"
									class="option-enabled">Ukrainian &amp; English</option>
								<option value="TDS_WL_VietnameseGloss&amp;TDS_WL_Glossary"
									class="option-enabled">Vietnamese &amp; English</option>
								<option value="TDS_WL0" class="option-enabled">None</option></select>
						</div>
					</div>


					<!-- Accommodations -->
					<div class="row">
						<div class="col-md-12">
							<h3>Accommodations</h3>
						</div>
					</div>

					<div class="row">
						<div class="col-md-3 form-group">
							<label>American Sign Language</label><select
								id="accessibility.americanSignLanguage" class="form-control"
								disabled=""><option value="TDS_ASL0" disabled=""
									class="option-disabled">Do not show ASL videos</option>
								<option value="TDS_ASL1" disabled="" class="option-disabled">Show
									ASL videos</option></select>
						</div>
						<div class="col-md-3 form-group">
							<label>Braille Type</label><select id="accessibility.brailleType"
								class="form-control"><option value="TDS_BT0"
									class="option-enabled">No Braille</option>
								<option value="TDS_BT_EXN" class="option-enabled">EBAE
									- Uncontracted - Nemeth Math</option>
								<option value="TDS_BT_ECN" class="option-enabled">EBAE
									- Contracted - Nemeth Math</option>
								<option value="TDS_BT_EXT" class="option-enabled">EBAE
									- Uncontracted - UEB Math</option>
								<option value="TDS_BT_ECT" class="option-enabled">EBAE
									- Contracted - UEB Math</option>
								<option value="TDS_BT_UXN" class="option-enabled">UEB -
									Uncontracted - Nemeth Math</option>
								<option value="TDS_BT_UCN" class="option-enabled">UEB -
									Contracted - Nemeth Math</option>
								<option value="TDS_BT_UXT" class="option-enabled">UEB -
									Uncontracted - UEB Math</option>
								<option value="TDS_BT_UCT" class="option-enabled">UEB -
									Contracted - UEB Math</option></select>
						</div>
						<div class="col-md-3 form-group">
							<label>Closed Captioning</label><select
								id="accessibility.closedCaptioning" class="form-control"><option
									value="TDS_ClosedCap0" class="option-enabled">Closed
									Captioning Not Available</option>
								<option value="TDS_ClosedCap1" class="option-enabled">Closed
									Captioning Available</option></select>
						</div>
						<div class="col-md-3 form-group">
							<label>Streamlined Interface</label><select
								id="accessibility.streamlinedInterface" class="form-control"><option
									value="TDS_SLM0" class="option-enabled">Standard</option>
								<option value="TDS_SLM1" class="option-enabled">Streamlined</option></select>
						</div>
					</div>

					<div class="row">
						<div class="col-md-3 form-group">
							<label>Permissive Mode</label><select
								id="accessibility.permissiveMode" class="form-control"><option
									value="TDS_PM0" class="option-enabled">Permissive Mode
									Disabled</option>
								<option value="TDS_PM1" class="option-enabled">Permissive
									Mode Enabled</option></select>
						</div>
						<div class="col-md-3 form-group">
							<label>Print On Demand</label><select
								id="accessibility.printOnDemand" class="form-control"><option
									value="TDS_PoD0" class="option-enabled">None</option>
								<option value="TDS_PoD_Stim" class="option-enabled">PT
									Stimuli and CAT Reading Passages</option>
								<option value="TDS_PoD_Item" class="option-enabled">Items</option>
								<option value="TDS_PoD_Stim&amp;TDS_PoD_Item"
									class="option-enabled">PT Stimuli and CAT Reading
									Passages and Items</option></select>
						</div>
						<div class="col-md-3 form-group">
							<label>Text to Speech</label><select
								id="accessibility.textToSpeech" class="form-control"><option
									value="TDS_TTS0" class="option-enabled">None</option>
								<option value="TDS_TTS_Item " class="option-enabled">Items
									Only</option>
								<option value="TDS_TTS_Stim" class="option-enabled">PT
									Stimuli and CAT Reading Passages Only</option>
								<option value="TDS_TTS_Stim&amp;TDS_TTS_Item"
									class="option-enabled">PT Stimuli and CAT Reading
									Passages and Items</option></select>
						</div>
					</div>


					<!-- Other -->
					<div class="row">
						<div class="col-md-12">
							<h3>Other</h3>
						</div>
					</div>


					<div class="row">
						<div class="col-md-3 form-group">
							<label>Language</label><select id="accessibility.language"
								class="form-control"><option value="ENU"
									class="option-enabled">English</option>
								<option value="ESN" class="option-enabled">Spanish
									(Stacked Translation)</option></select>
						</div>
						<div class="col-md-3 form-group">
							<label>Illustration Glossary</label><select
								id="accessibility.illustrationGlossary" class="form-control"><option
									value="TDS_ILG0" class="option-enabled">Do not show
									Illustration Glossary</option>
								<option value="TDS_ILG1" class="option-enabled">Show
									Illustration Glossary</option></select>
						</div>
						<div class="col-md-3 form-group">
							<label>Zoom</label><select id="accessibility.zoom"
								class="form-control"><option value="TDS_PS_L0"
									class="option-enabled">No default zoom applied</option>
								<option value="TDS_PS_L1" class="option-enabled">Level
									1</option>
								<option value="TDS_PS_L2" class="option-enabled">Level
									2</option>
								<option value="TDS_PS_L3" class="option-enabled">Level
									3</option>
								<option value="TDS_PS_L4" class="option-enabled">Level
									4</option></select>
						</div>
					</div>
				</div>
				<div class="modal-footer">
					<button class="btn btn-primary" id="btnUpdateAccessibility"
						data-dismiss="modal">Update</button>
					<button class="btn btn-primary" data-dismiss="modal">Reset
						to Default</button>
					<button class="btn btn-primary btn-cancel" data-dismiss="modal">Cancel</button>
				</div>
			</div>
		</div>
	</div>


	<script type="text/javascript">
		// In our case the first frame is the content frame but use whichever frame is the content frame in your particular application.
		IRiS.setFrame(frames[0]);

		// set the vendor guid.
		//Note: in the OSS IRiS case we do not care for this.
		var vendorId = '2B3C34BF-064C-462A-93EA-41E9E3EB8333';
		

		function disableAll() {
			$('#btnLoadItem').attr('disabled', true);
			$('#btnGetResponse').attr('disabled', true);
		}

		function enableAll() {
			$('#btnLoadItem').attr('disabled', false);
			$('#btnGetResponse').attr('disabled', false);
		}

		function processError(err) {
			var msg = err.message || err.responseText || 'Unknown';
			alert(msg);
		}
		
		// load secure token
		$('#btnLoadToken').on('click', function() {
			var token = $('#txtToken').val();
			var bankToken = $('#bankToken').val();
			var content = $('#content').val();
			var queryString = 'type='+ content + '&amp;bankId=' + bankToken + '&amp;id=' + token;
			window.location.href = '#{request.contextPath}' + '/IrisPages/sample.xhtml?' + queryString;
		});
		
		$('#btnUpdateAccessibility').on('click', function() {
			var token = $('#txtToken').val();
			var bankToken = $('#bankToken').val();
			var content = $('#content').val();
			var version = $('#versionToken').val();
			var queryString =  bankToken + '-' + token + '?isaap=' + buildAccessibilityString();	
			IRiS.loadTokenAccess(queryString).done(function () {
	        });
		});
		

		
		$(window).load(function() {
			var token = $('#txtToken').val();
			var bankToken = $('#bankToken').val();
			var content = $('#content').val();
			var version = $('#versionToken').val();
			var isaap = $('#isaapToken').val();
			if(content==='Item'&amp;&amp;!isEmpty(bankToken)&amp;&amp;!isEmpty(token)){
				
			IRiS.loadToken(vendorId, 'I-'+bankToken+'-'+token +'-'+ version + '-' + isaap).done(function() {
				enableAll();
			}).fail(function(err) {
				processError(err);
			}).always(function() {
				enableAll();
			});
			}
		  });
		

		function buildAccessibilityString() {
			var accessibility = "";
			
			// using dot notation due to fields having generic names that could conflict with item element ids.
			
			if(!document.getElementById('accessibility.digitalNotepad').hasAttribute('disabled'))
				accessibility += document.getElementById('accessibility.digitalNotepad').value + "%3B";
			
			if(!document.getElementById('accessibility.englishGlossary').hasAttribute('disabled'))
				accessibility += document.getElementById('accessibility.englishGlossary').value + "%3B";
			
			if(!document.getElementById('accessibility.highlighter').hasAttribute('disabled'))
				accessibility += document.getElementById('accessibility.highlighter').value + "%3B";
			
			if(!document.getElementById('accessibility.markForReview').hasAttribute('disabled'))
				accessibility += document.getElementById('accessibility.markForReview').value + "%3B";
			
			if(!document.getElementById('accessibility.calculator').hasAttribute('disabled'))
				accessibility += document.getElementById('accessibility.calculator').value + "%3B";
			
			if(!document.getElementById('accessibility.englishDictionary').hasAttribute('disabled'))
				accessibility += document.getElementById('accessibility.englishDictionary').value + "%3B";
			
			if(!document.getElementById('accessibility.expandablePassages').hasAttribute('disabled'))
				accessibility += document.getElementById('accessibility.expandablePassages').value + "%3B";
			
			if(!document.getElementById('accessibility.globalNotes').hasAttribute('disabled'))
				accessibility += document.getElementById('accessibility.globalNotes').value + "%3B";
			
			if(!document.getElementById('accessibility.strikethrough').hasAttribute('disabled'))
				accessibility += document.getElementById('accessibility.strikethrough').value + "%3B";
			
			if(!document.getElementById('accessibility.writingTools').hasAttribute('disabled'))
				accessibility += document.getElementById('accessibility.writingTools').value + "%3B";
			
			if(!document.getElementById('accessibility.thesaurus').hasAttribute('disabled'))
				accessibility += document.getElementById('accessibility.thesaurus').value + "%3B";
			
			if(!document.getElementById('accessibility.colorChoices').hasAttribute('disabled'))
				accessibility += document.getElementById('accessibility.colorChoices').value + "%3B";
			
			if(!document.getElementById('accessibility.masking').hasAttribute('disabled'))
				accessibility += document.getElementById('accessibility.masking').value + "%3B";
			
			if(!document.getElementById('accessibility.translation').hasAttribute('disabled'))
				accessibility += document.getElementById('accessibility.translation').value + "%3B";
			
			if(!document.getElementById('accessibility.americanSignLanguage').hasAttribute('disabled'))
				accessibility += document.getElementById('accessibility.americanSignLanguage').value + "%3B";
			
			if(!document.getElementById('accessibility.brailleType').hasAttribute('disabled'))
				accessibility += document.getElementById('accessibility.brailleType').value + "%3B";
			
			if(!document.getElementById('accessibility.closedCaptioning').hasAttribute('disabled'))
				accessibility += document.getElementById('accessibility.closedCaptioning').value + "%3B";
			
			if(!document.getElementById('accessibility.streamlinedInterface').hasAttribute('disabled'))
				accessibility += document.getElementById('accessibility.streamlinedInterface').value + "%3B";
			
			if(!document.getElementById('accessibility.permissiveMode').hasAttribute('disabled'))
				accessibility += document.getElementById('accessibility.permissiveMode').value + "%3B";
			
			if(!document.getElementById('accessibility.printOnDemand').hasAttribute('disabled'))
				accessibility += document.getElementById('accessibility.printOnDemand').value + "%3B";
			
			if(!document.getElementById('accessibility.textToSpeech').hasAttribute('disabled'))
				accessibility += document.getElementById('accessibility.textToSpeech').value + "%3B";
			
			if(!document.getElementById('accessibility.language').hasAttribute('disabled'))
				accessibility += document.getElementById('accessibility.language').value + "%3B";
			
			if(!document.getElementById('accessibility.illustrationGlossary').hasAttribute('disabled'))
				accessibility += document.getElementById('accessibility.illustrationGlossary').value + "%3B";
			
			if(!document.getElementById('accessibility.zoom').hasAttribute('disabled'))
				accessibility += document.getElementById('accessibility.zoom').value;
			
			return accessibility;
		}
		function toggle(lnk_obj){
			
		    lnk_obj.innerHTML = (lnk_obj.innerHTML == 'Hide Metadata') ? 'Show Metadata' : 'Hide Metadata' ;
		}
		
		$('#btnSetResponse').on('click', function(evt) {
			var value = $('#txtResponse').val();
			IRiS.setResponse(value);
		});

		$('#btnGetResponse').on('click', function(evt) {
			IRiS.getResponse().then(function(value) {
				if (value) {
					$('#txtResponse').val(value);
				}
			}, function(ex) {
				alert('Error setting response: ' + ex.message);
			});
		});
		function isEmpty(str) {
			return (!str || 0 === str.length);
		}
		$('#secondaryButton').click(function(){
		    $("#primaryButton").click();
		})	
	</script>
</h:body>
</html>

